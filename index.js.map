{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48226590-99b6af351d6e3a0b674791be6';\nconst URL_PIXABAY = 'https://pixabay.com/api/';\n\nexport const fetchImages = (query, perPage = 12) => {\n  const urlFetch = `${URL_PIXABAY}?key=${API_KEY}&q=${encodeURIComponent(query)}&per_page=${perPage}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n\n  return fetch(urlFetch)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    });\n};","export const createGalleryCard = imgInfo => {\n   return `\n    <li class=\"gallery-card\">\n      <a href=\"${imgInfo.largeImageURL}\" target=\"_blank\">\n        <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n      </a>\n      <p>Likes: ${imgInfo.likes}  Views: ${imgInfo.views}  Comments: ${imgInfo.comments}  Downloads: ${imgInfo.downloads}</p>\n    </li>`;\n};\n\nexport const renderGallery = (images, galleryEl) => {\n  const galleryMarkup = images.map(createGalleryCard).join('');\n  galleryEl.innerHTML = galleryMarkup;\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\n\nconst searchFormEl = document.querySelector(\".search-form\");\nconst galleryEl = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\n\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.user_query.value.trim();\n  if (query === \"\") {\n     iziToast.error({\n        message: \"Please fill the form\",\n        position: \"topRight\",\n        \n      })\n\n    return;\n  }\n    \n loader.classList.remove(\"is-hidden\")\n  \n fetchImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        searchFormEl.loader.style.display = \"none\";\n        iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n        });\n\n        galleryEl.innerHTML = \"\";\n        searchFormEl.reset();\n        return;\n      }\n\n\n      renderGallery(data.hits, galleryEl);\n      \n       loader.classList.add(\"is-hidden\");\n\n      const lightbox = new SimpleLightbox(\".gallery a\", {captionsData: 'alt', captionDelay: 250 });\n\n      lightbox.refresh();\n      \n      searchFormEl.reset();\n    })\n    .catch(err => {\n      console.log(err)\n      iziToast.error({\n        message: \"Something went wrong, please try again later.\",\n        position: \"topRight\",\n      })\n     loader.classList.add(\"is-hidden\");\n    })\n  searchFormEl.reset();\n}\nsearchFormEl.addEventListener(\"submit\", onSearchFormSubmit);"],"names":["API_KEY","URL_PIXABAY","fetchImages","query","perPage","urlFetch","response","createGalleryCard","imgInfo","renderGallery","images","galleryEl","galleryMarkup","searchFormEl","loader","onSearchFormSubmit","event","iziToast","data","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAc,2BAEPC,EAAc,CAACC,EAAOC,EAAU,KAAO,CAClD,MAAMC,EAAW,GAAGJ,CAAW,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,aAAaC,CAAO,2DAGjG,OAAO,MAAMC,CAAQ,EAClB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,CACL,ECdaC,EAAoBC,GACvB;AAAA;AAAA,iBAEOA,EAAQ,aAAa;AAAA,wCACEA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,kBAEhEA,EAAQ,KAAK,YAAYA,EAAQ,KAAK,eAAeA,EAAQ,QAAQ,gBAAgBA,EAAQ,SAAS;AAAA,WAI3GC,EAAgB,CAACC,EAAQC,IAAc,CAClD,MAAMC,EAAgBF,EAAO,IAAIH,CAAiB,EAAE,KAAK,EAAE,EAC3DI,EAAU,UAAYC,CACxB,ECLMC,EAAe,SAAS,cAAc,cAAc,EACpDF,EAAY,SAAS,cAAc,UAAU,EAC7CG,EAAS,SAAS,cAAc,SAAS,EAIzCC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMb,EAAQa,EAAM,cAAc,SAAS,WAAW,MAAM,OAC5D,GAAIb,IAAU,GAAI,CACfc,EAAS,MAAM,CACZ,QAAS,uBACT,SAAU,UAElB,CAAO,EAEH,MACD,CAEFH,EAAO,UAAU,OAAO,WAAW,EAEnCZ,EAAYC,CAAK,EACb,KAAKe,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BL,EAAa,OAAO,MAAM,QAAU,OACpCI,EAAS,MAAM,CACf,QAAS,2EACT,SAAU,UAClB,CAAS,EAEDN,EAAU,UAAY,GACtBE,EAAa,MAAK,EAClB,MACD,CAGDJ,EAAcS,EAAK,KAAMP,CAAS,EAEjCG,EAAO,UAAU,IAAI,WAAW,EAEhB,IAAIK,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,GAAG,CAAE,EAElF,QAAO,EAEhBN,EAAa,MAAK,CACxB,CAAK,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfH,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,EACFH,EAAO,UAAU,IAAI,WAAW,CACrC,CAAK,EACHD,EAAa,MAAK,CACpB,EACAA,EAAa,iBAAiB,SAAUE,CAAkB"}